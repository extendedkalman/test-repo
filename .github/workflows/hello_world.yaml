name: hello world workflow

on:
  push:
    branches:
      - main

  workflow_dispatch:

jobs:
  run-my-script:
    runs-on: windows-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          path: ${{ github.workspace }}/test-repo
          repository: "extendedkalman/test-repo"

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.7

      - name: Run Python Script
        run: |
          $scriptPath=.\test-repo\src\hello.py
          python $scriptPath

  test-uses:
    runs-on: windows-latest
    steps:
      - name: test uses action file
        uses: ./test-repo/actions/test
        with:
          message: "testing local include"

  #        python $scriptPath
  #  goodbye:
  #    runs-on: ubuntu-latest
  #    steps:
  #      - name: goodbye world
  #        run: echo ${{ github.workspace }}
  #        shell: bash

  #  test:
  #    needs: [hello, goodbye]
  #    runs-on: windows-latest
  #    steps:
  #      - name: test powershell
  #        id: test-powershell
  #        shell: powershell
  #        run: |
  #          Write-Output "path=Hello World 123"

  #  test2:
  #    needs: [test]
  #    runs-on: windows-latest
  #    steps:
  #      - name: test2 powershell
  #        shell: powershell
  #        run: |
  #          Write Output "${{ steps.test-powershell.outputs.path }}"
